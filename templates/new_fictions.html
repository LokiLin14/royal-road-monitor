{% extends 'base.html' %}
{% from "macros/fiction_render.html" import display_fictions %}

{% block title %}
    New Fictions
{% endblock %}

{% block body %}
    <div class="content-heading">
        <div>
            <h1>New Fictions</h1>
            <p>Displays the fictions ordered by when they first appeared.</p>
        </div>

        <form action="{{ url_for('new') }}" method="get">
            <label for="url"></label>
            <select id="url" name="url">
                {% for from_url in from_urls %}
                    <option value="{{ from_url.url }}" {% if request.args.get('url') == from_url.url %}selected{% endif %}>
                        {{ from_url.alias }}
                    </option>
                {% endfor %}
            </select>

            <button type="submit">Go</button>
        </form>
    </div>

    {{ display_fictions(fictions, display_follow=false, display_not_interested=false, display_dont_show=true) }}

{% endblock %}